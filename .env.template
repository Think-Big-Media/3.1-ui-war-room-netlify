# ==============================================================================
# WAR ROOM ANALYTICS PLATFORM - ENVIRONMENT CONFIGURATION TEMPLATE
# ==============================================================================
# This template contains ALL environment variables used across the platform
# Copy this file to .env and fill in your actual values for development
# For production deployment, configure these in your render.com dashboard
# ==============================================================================

# ==============================================================================
# CORE APPLICATION SETTINGS
# ==============================================================================
APP_NAME="War Room Analytics"
APP_VERSION="1.0.0"
ENVIRONMENT=development  # Options: development, staging, production
DEBUG=true               # Set to false in production
LOG_LEVEL=INFO          # Options: DEBUG, INFO, WARNING, ERROR
PORT=8000               # Backend server port

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# PostgreSQL Database URL (Primary Database)
# Development: Use local PostgreSQL instance
# Production: Use render.com PostgreSQL add-on URL
DATABASE_URL=postgresql://user:password@localhost:5432/warroom

# Database Connection Pool Settings (Production Optimization)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true
DB_POOL_TIMEOUT=30
DB_ECHO=false  # Set to true for SQL debugging in development only

# ==============================================================================
# REDIS CONFIGURATION (CACHING & SESSIONS)
# ==============================================================================
# Redis URL for caching, sessions, and real-time features
# Development: Use local Redis instance
# Production: Use render.com Redis add-on URL
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_POOL_MIN_SIZE=10
REDIS_POOL_MAX_SIZE=20
REDIS_MAX_CONNECTIONS=50

# Cache TTL Settings (seconds)
ANALYTICS_CACHE_TTL=300      # 5 minutes
USER_ACTIVITY_CACHE_TTL=1800 # 30 minutes

# ==============================================================================
# SUPABASE CONFIGURATION (PRIMARY AUTH & REALTIME)
# ==============================================================================
# Supabase is the primary authentication and realtime system
# Get these values from your Supabase project dashboard
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here
SUPABASE_DB_PASSWORD=your-supabase-db-password

# Frontend Supabase Configuration (Vite/React)
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key-here
REACT_APP_SUPABASE_URL=https://your-project-id.supabase.co
REACT_APP_SUPABASE_ANON_KEY=your-supabase-anon-key-here

# ==============================================================================
# API CONFIGURATION
# ==============================================================================
# API Base URLs for different environments
# Development: http://localhost:8000
# Production: https://your-app-name.onrender.com
API_BASE_URL=http://localhost:8000
VITE_API_URL=http://localhost:8000
VITE_API_BASE_URL=http://localhost:8000

# API Version
API_V1_STR=/api/v1

# ==============================================================================
# SECURITY & JWT CONFIGURATION
# ==============================================================================
# JWT Configuration for API authentication
# CRITICAL: Generate secure random keys for production
SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==============================================================================
# CORS CONFIGURATION (PRODUCTION-READY SECURITY)
# ==============================================================================
# Allowed origins for CORS (comma-separated)
# Development: Include localhost origins
# Production: Only include your production domain(s)
BACKEND_CORS_ORIGINS=http://localhost:5173,http://localhost:3000,https://your-production-domain.com
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=86400  # 24 hours

# ==============================================================================
# WEBSOCKET CONFIGURATION
# ==============================================================================
# WebSocket settings for real-time features
WS_HEARTBEAT_INTERVAL=30        # Heartbeat interval in seconds
WS_MESSAGE_QUEUE_SIZE=100       # Message queue size
WS_CONNECTION_TIMEOUT=60        # Connection timeout in seconds
ANALYTICS_UPDATE_INTERVAL=5     # Real-time analytics update interval

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
# Control which features are enabled in different environments
ENABLE_ANALYTICS=true
ENABLE_AUTOMATION=true
ENABLE_DOCUMENT_INTELLIGENCE=true
ENABLE_REAL_TIME_UPDATES=true
ENABLE_EXPORT_FEATURE=true
ENABLE_ADVANCED_ANALYTICS=true

# Frontend Feature Flags (Vite/React)
VITE_ENABLE_ANALYTICS=true
VITE_ENABLE_AUTOMATION=true
VITE_ENABLE_DOCUMENT_INTELLIGENCE=true
VITE_ENABLE_GOOGLE_AUTH=false
VITE_ENABLE_GITHUB_AUTH=false

# Legacy React App Feature Flags (for backward compatibility)
REACT_APP_ENABLE_ANALYTICS=true
REACT_APP_ENABLE_AUTOMATION=true
REACT_APP_ENABLE_DOCUMENT_INTELLIGENCE=true
REACT_APP_ENABLE_GOOGLE_AUTH=false
REACT_APP_ENABLE_GITHUB_AUTH=false
REACT_APP_ENV=development
REACT_APP_DEFAULT_ORG_ID=

# Mock Mode Controls (Development Only)
VITE_FORCE_MOCK_MODE=false  # Force mock mode even with valid credentials

# ==============================================================================
# META/FACEBOOK MARKETING API
# ==============================================================================
# Meta Business API credentials for ad management
# Get these from Meta for Developers dashboard
VITE_META_APP_ID=your-meta-app-id
VITE_META_APP_SECRET=your-meta-app-secret
VITE_META_ACCESS_TOKEN=your-meta-access-token
VITE_META_REDIRECT_URI=https://your-domain.com/auth/meta/callback

# Backend Meta API Configuration
META_APP_ID=your-meta-app-id
META_APP_SECRET=your-meta-app-secret
META_ACCESS_TOKEN=your-meta-access-token
META_DEFAULT_ACCOUNT_ID=your-default-ad-account-id
FACEBOOK_WARROOM_API_TOKEN=your-facebook-api-token

# ==============================================================================
# GOOGLE ADS API CONFIGURATION
# ==============================================================================
# Google Ads API credentials for campaign management
# Get these from Google Ads API Console
GOOGLE_ADS_DEVELOPER_TOKEN=your-google-ads-developer-token
GOOGLE_ADS_CLIENT_ID=your-google-oauth-client-id
GOOGLE_ADS_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_ADS_LOGIN_CUSTOMER_ID=your-login-customer-id

# Frontend Google Ads Configuration
VITE_GOOGLE_ADS_CLIENT_ID=your-google-oauth-client-id
VITE_GOOGLE_ADS_CLIENT_SECRET=your-google-oauth-client-secret
VITE_GOOGLE_ADS_DEVELOPER_TOKEN=your-google-ads-developer-token
VITE_GOOGLE_CLIENT_ID=your-google-oauth-client-id

# Google Service Account (for server-to-server authentication)
# Store the JSON key as a string or path to file
GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account",...}
GOOGLE_SERVICE_ACCOUNT_KEY_FILE=./credentials/google-service-account.json

# ==============================================================================
# AI & MACHINE LEARNING SERVICES
# ==============================================================================
# OpenAI API for AI-powered features
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL_EMBEDDING=text-embedding-ada-002
OPENAI_MODEL_CHAT=gpt-4

# Frontend OpenAI Configuration
VITE_OPENAI_API_KEY=your-openai-api-key-here

# Pinecone Vector Database for document intelligence
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=warroom-documents
PINECONE_INDEX_HOST=your-pinecone-index-host-url

# Frontend Pinecone Configuration
VITE_PINECONE_API_KEY=your-pinecone-api-key
VITE_PINECONE_ENVIRONMENT=us-east-1
VITE_PINECONE_INDEX_NAME=warroom-documents
VITE_PINECONE_HOST=your-pinecone-index-host-url

# Document Processing Settings
MAX_DOCUMENT_SIZE_MB=25
DOCUMENT_CHUNK_SIZE=1000
DOCUMENT_CHUNK_OVERLAP=200
MAX_SEARCH_RESULTS=10

# ==============================================================================
# ANALYTICS & TRACKING
# ==============================================================================
# PostHog for product analytics and feature flags
POSTHOG_KEY=your-posthog-api-key
POSTHOG_HOST=https://app.posthog.com
POSTHOG_ENABLED=true
POSTHOG_API_KEY=your-posthog-project-api-key
POSTHOG_PERSON_PROFILES=identified_only

# Frontend PostHog Configuration
VITE_POSTHOG_KEY=your-posthog-api-key
VITE_POSTHOG_HOST=https://app.posthog.com

# ==============================================================================
# COMMUNICATION SERVICES
# ==============================================================================
# SendGrid for email delivery
SENDGRID_API_KEY=your-sendgrid-api-key
VITE_SENDGRID_API_KEY=your-sendgrid-api-key

# Twilio for SMS and WhatsApp
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=your-twilio-phone-number
TWILIO_WHATSAPP_NUMBER=whatsapp:your-twilio-whatsapp-number
TWILIO_2FA_NUMBER=your-2fa-phone-number
TWILIO_RECOVERY_CODE=your-twilio-recovery-code

# Frontend Twilio Configuration
VITE_TWILIO_ACCOUNT_SID=your-twilio-account-sid
VITE_TWILIO_AUTH_TOKEN=your-twilio-auth-token

# Email Settings
NOTIFICATION_EMAIL=notifications@your-domain.com
NOTIFICATION_PASSWORD=your-email-password

# ==============================================================================
# SOCIAL MEDIA MONITORING
# ==============================================================================
# Mentionlytics for social media monitoring
MENTIONLYTICS_EMAIL=your-mentionlytics-email
MENTIONLYTICS_PASSWORD=your-mentionlytics-password
MENTIONLYTICS_API_ENDPOINT=https://app.mentionlytics.com/api/token
MENTIONLYTICS_API_KEY=your-mentionlytics-api-key
MENTIONLYTICS_PROJECT_ID=your-project-id
MENTIONLYTICS_API_SECRET=your-mentionlytics-api-secret

# GoHighLevel Integration
VITE_GHL_API_URL=https://api.gohighlevel.com

# ==============================================================================
# DEVELOPMENT & TESTING
# ==============================================================================
# GitHub Personal Access Token for development features
GITHUB_PAT=your-github-personal-access-token

# Linear API for project management integration
LINEAR_API_KEY=your-linear-api-key

# Test Database URLs
STAGING_DATABASE_URL=postgresql://user:pass@staging-db:5432/warroom_staging
PROD_DATABASE_URL=postgresql://user:pass@prod-db:5432/warroom_prod

# Platform Admin Settings
PLATFORM_ADMIN_SECRET=your-platform-admin-secret-key
PLATFORM_ADMIN_EMAILS=admin@your-domain.com,support@your-domain.com

# ==============================================================================
# ERROR TRACKING & MONITORING
# ==============================================================================
# Sentry for error tracking and performance monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Health Monitoring
HEALTH_CHECK_ENABLED=true
ENABLE_METRICS=true

# ==============================================================================
# RATE LIMITING
# ==============================================================================
# API rate limiting configuration
RATE_LIMIT_ANALYTICS=30/minute
RATE_LIMIT_EXPORT=10/hour
RATE_LIMIT_WEBSOCKET=100/minute

# Export Settings
MAX_EXPORT_ROWS=10000
EXPORT_TIMEOUT=300
PDF_GENERATION_TIMEOUT=60

# Performance Settings
MAX_CHART_DATA_POINTS=10000
AGGREGATION_THRESHOLD=1000

# ==============================================================================
# ALERTING & NOTIFICATIONS
# ==============================================================================
# Alert system configuration
ALERT_EMAIL_USER=alerts@your-domain.com
ALERT_EMAIL_PASS=your-alert-email-password

# Webhook URLs for team notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your-webhook-url
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-url
TEAMS_WEBHOOK_URL=https://your-team.webhook.office.com/webhookb2/your-webhook-url
SLACK_WEBHOOK=https://hooks.slack.com/services/your-webhook-url

# ==============================================================================
# DEPLOYMENT & INFRASTRUCTURE
# ==============================================================================
# Render.com specific configuration
RENDER_ENV=development

# Render Service ID used by automation and verification scripts
# For production deployments, this should match the live service.
RENDER_SERVICE_ID=srv-d1ub5iumcj7s73ebrpo0

# Render API key for API-based deployments (do NOT commit real values)
# Create in Render dashboard → Account Settings → API Keys
RENDER_API_KEY=

# Optional: Render Deploy Hook URL for the service (preferred trigger)
# Found under Service → Settings → Deploy Hook
RENDER_DEPLOY_HOOK_URL=

# Python/Node versions for deployment
PYTHON_VERSION=3.11.0
NODE_VERSION=18.17.0

# CI/CD Configuration
CI=false
RECORD_MODE=false

# Ad Monitoring Thresholds
SPEND_THRESHOLD_PERCENTAGE=80
PERFORMANCE_DROP_THRESHOLD=20
MONITORING_INTERVAL_SECONDS=300

# ==============================================================================
# EXTERNAL SERVICES REQUIRING MANUAL SETUP
# ==============================================================================
# 
# The following environment variables require manual configuration in production:
# 
# REQUIRED FOR PRODUCTION:
# - VITE_SUPABASE_URL: Get from your Supabase project dashboard
# - VITE_SUPABASE_ANON_KEY: Get from your Supabase project dashboard  
# - POSTHOG_KEY: Get from your PostHog project settings
# - POSTHOG_API_KEY: Get from your PostHog project settings
# - SENTRY_DSN: Get from your Sentry project settings
# 
# OPTIONAL SERVICES (Enable when ready):
# - Meta Business API: VITE_META_APP_ID, VITE_META_APP_SECRET, VITE_META_ACCESS_TOKEN
# - Google Ads API: GOOGLE_ADS_DEVELOPER_TOKEN, GOOGLE_ADS_CLIENT_ID, GOOGLE_ADS_CLIENT_SECRET
# - AI Services: OPENAI_API_KEY, PINECONE_API_KEY
# - Communication: SENDGRID_API_KEY, TWILIO_ACCOUNT_SID, TWILIO_AUTH_TOKEN
# 
# See RENDER_DEPLOYMENT_ENVIRONMENT_GUIDE.md for detailed setup instructions
# 
# ==============================================================================
# PRODUCTION DEPLOYMENT NOTES
# ==============================================================================
# 
# SECURITY REMINDERS:
# 1. Never commit this file with real values to version control
# 2. Generate strong, unique keys for all SECRET_KEY and JWT_SECRET values
# 3. Use environment-specific values (no localhost in production)
# 4. Enable HTTPS-only cookies and secure headers in production
# 5. Set DEBUG=false in production
# 6. Use minimal CORS origins in production
# 
# RENDER.COM DEPLOYMENT:
# 1. Add all required environment variables in render.com dashboard
# 2. Use render.com add-ons for PostgreSQL and Redis
# 3. Configure auto-deploy from your main branch
# 4. Set up health checks using /health endpoint
# 
# DATABASE SETUP:
# 1. Create PostgreSQL instance on render.com
# 2. Run database migrations after first deployment
# 3. Create Supabase project and configure auth policies
# 
# EXTERNAL SERVICES SETUP:
# 1. Set up Meta for Developers app for Facebook/Instagram ads
# 2. Configure Google Ads API access
# 3. Create PostHog project for analytics
# 4. Set up Sentry project for error tracking
# 
# ==============================================================================